{% extends "base.html" %}
{% block title %}MalScan â€¢ History{% endblock %}
{% block content %}
<h2>Scan history</h2>

{% if scans %}
  <div class="table">
    <div class="thead">
      <div>Time</div>
      <div>File</div>
      <div>Type</div>
      <div>Verdict</div>
      <div>Score</div>
    </div>
    {% for s in scans %}
      <a class="trow" href="/scan/{{ s.id }}/">
        <div class="muted">{{ s.created_at|date:"Y-m-d H:i" }}</div>
        <div>{{ s.sample.original_name }}</div>
        <div class="mono">{{ s.sample.detected_type }}</div>
        <div class="badge {{ s.verdict }}">{{ s.verdict }}</div>
        <div class="mono">{{ s.score_percent }}%</div>
      </a>
    {% endfor %}
  </div>

  <div class="pagination">
    {% if page_obj.has_previous %}
      <a class="btn" href="?page={{ page_obj.previous_page_number }}">Prev</a>
    {% endif %}
    <span class="muted">Page {{ page_obj.number }} / {{ page_obj.paginator.num_pages }}</span>
    {% if page_obj.has_next %}
      <a class="btn" href="?page={{ page_obj.next_page_number }}">Next</a>
    {% endif %}
  </div>
{% else %}
  <p class="muted">No scans yet. <a href="/scan/">Scan your first file</a>.</p>
{% endif %}
{% endblock %}
